digraph MultiModalSystem {
    rankdir=LR;
    node [shape=box, style=filled, fillcolor=lightgray];

    # Main entry points
    RunPy [label="experiments/run.py"];
    Engine [label="trainer/engine.py"];
    Dataset [label="data/dataset.py\nMedPixDataset, WoundDataset"];
    WoundDatasetPy [label="data/wound_dataset.py\nWoundDataset"];
    Teacher [label="models/teacher.py\nTeacher"];
    Student [label="models/student.py\nStudent"];
    Backbones [label="models/backbones.py"];
    Heads [label="models/heads.py\nClassificationHead"];
    Fusion [label="models/fusion/*\nFusion Modules"];
    Losses [label="losses/*\nLoss Modules"];
    Logger [label="utils/logger.py\nMetricsLogger"];
    ResultsLogger [label="utils/results_logger.py\nResultsLogger"];
    Metrics [label="utils/metrics.py"];
    Config [label="config/*.yaml\nConfig Files"];

    # Relationships
    RunPy -> Engine;
    Engine -> Dataset;
    Engine -> Teacher;
    Engine -> Student;
    Engine -> Logger;
    Engine -> ResultsLogger;
    Engine -> Metrics;
    Engine -> Losses;
    Engine -> Config;
    Dataset -> WoundDatasetPy;
    Teacher -> Backbones;
    Teacher -> Fusion;
    Teacher -> Heads;
    Student -> Backbones;
    Student -> Fusion;
    Student -> Heads;
    Fusion -> Backbones;
    Losses -> Teacher;
    Losses -> Student;
    Logger -> ResultsLogger;
    Engine -> Backbones;
}
